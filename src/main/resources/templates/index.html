<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="fragments/head"></head>

<body>

<header th:replace="fragments/nav"></header>

<main class="p-5 align-content-center bg-blur">

    <th:block sec:authorize="isAuthenticated()">

        <!--        carousel-->
        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel"
             data-pause="false"
             data-intervale="10"
             style="width: 60%; margin-top: 2%; margin-left: 20%">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
            </ol>
            <div class="carousel-inner">
                <div class="carousel-item active ">
                    <a th:href="@{/dramas/drama-details/1}">
                        <img class="d-block w-100 rounded" th:src="@{/images/Because_This_Is_My_First_Life-P1.png}"
                             alt="First slide">
                        <div class="carousel-caption d-none d-md-block text-left">
                            <h5>Because This Is My FirstLife (2017)</h5>
                        </div>
                    </a>
                </div>

                <div class="carousel-item img-fluid">
                    <a th:href="@{/movies/movie-details/1}">
                        <img class="d-block w-100 rounded" th:src="@{/images/The_Dude_In_Me-tp1.jpg}" alt="First slide">
                        <div class="carousel-caption d-none d-md-block text-left">
                            <h5>The Dude In Me (2020)</h5>
                        </div>
                    </a>
                </div>

                <div class="carousel-item">
                    <a th:href="@{/dramas/drama-details/2}">
                        <img class="d-block w-100 rounded" th:src="@{/images/Tunnel.jpg}" alt="First slide">
                        <div class="carousel-caption d-none d-md-block text-left">
                            <h5>Tunnel (2017)</h5>
                        </div>
                    </a>
                </div>

                <div class="carousel-item">
                    <a th:href="@{/movies/movie-details/3}">
                        <img class="d-block rounded" th:src="@{/images/Space_Sweepers-mp01.jpg}"
                             alt="First slide">
                        <div class="carousel-caption d-none d-md-block text-left">
                            <h5>Space Sweepers (2020)</h5>
                        </div>
                    </a>
                </div>

            </div>
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>


        <!--        search-->
        <div class="container">
            <div class="row justify-content-center">
                <div class="mt-5 col-sm-8">
                    <div class="input-group">
                        <input id="search-input" type="search" class="form-control"
                               placeholder="Enter drama or movie title"/>
                        <span class="input-group-btn">
                            <button id="search-button" type="button" class="btn btn-sm btn-info rounded text-center">Search
                                <i class="fas fa-search"></i>
                            </button>
                        </span>
                    </div>
                </div>
            </div>
        </div>


        <!--        shows search result-->
        <div class="row mt-5" id="listSearch"></div>

        <!-- Cards -->
        <div class="container">
            <!--    card-title-->
            <div class="row justify-content-center">
                <!--      drama card-->
                <div class="col-md-5 mb-5">
                    <div class="card h-100 " style="width: 430px;">
                        <img class="card-img-top" th:src="@{/images/tv-card.png}" alt="">
                        <div class="card-body">
                            <h4 class="card-title">Dramas</h4>
                            <p class="card-text">Catalogue</p>
                        </div>
                        <div class="card-footer">
                            <a id="see" th:href="@{/dramas/all-dramas}" class="btn btn-info" type="button">See
                                All</a>
                        </div>
                    </div>
                </div>

                <!--      movie card-->
                <div class="col-md-5 mb-5">
                    <div class="card h-100" style="width: 430px;">
                        <img class="card-img-top" th:src="@{/images/movie-card.jpg}" alt="">
                        <div class="card-body">
                            <h4 class="card-title">Movies</h4>
                            <p class="card-text">Catalogue</p>
                        </div>
                        <div class="card-footer">

                            <a th:href="@{/movies/all-movies/}" class="btn btn-info">See All</a>

                        </div>
                    </div>
                </div>
            </div>
            <!-- /.row -->
        </div>


    </th:block>

    <th:block sec:authorize="!isAuthenticated()">
        <div class="container bg-blur rounded mt-5 ">
            <h1>Welcome to Asian Movie Database</h1>
            <hr class="my-3 bg-white w-50"/>
            <p class="h4">The application is here to help you keep track of your favourite asian movies and dramas</p>
            <hr class="my-3 bg-white w-75"/>
            <h3>
                <a style="color: orange" class="text-primay" th:href="@{/users/login}">Login</a>
                if you have an account or
                <a style="color: orange" class="text-primay" th:href="@{/users/regsiter}">Register</a>
                to start your collections
            </h3>
        </div>
    </th:block>
</main>

<th:block sec:authorize="!isAuthenticated()"><br>
    <br><br><br><br><br><br><br><br><br><br>
    <footer th:replace="fragments/footer"></footer>
</th:block>
<footer sec:authorize="isAuthenticated()" th:replace="fragments/footer"></footer>

<script th:src="@{/js/movie.js}"></script>
</body>

</html>
